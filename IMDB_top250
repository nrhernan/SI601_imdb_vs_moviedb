# -*- coding: utf-8 -*-

#Fetch the IMDB top 250 movies using this URL:
#http://www.imdb.com/chart/top
#and save it in a HTML file named step1.html. The saved HTML file should look similar
#to step1_desired_output.html. Also note that a few movies have titles or actors with, e.g.
#accented characters. Make sure you use the utf8 encoding to write out the HTML to use
#Unicode and preserve any non-English characters.

import sys
import urllib2
from bs4 import BeautifulSoup
import json
import csv

#Setting the default encoding via sys.setdefaultencoding fixed the error I was getting earlier 
reload(sys)
sys.setdefaultencoding('utf-8')

url = r'http://www.imdb.com/chart/top'

urlhand = urllib2.urlopen(url, 'rU')
html = urlhand.read()

f = 'hw3_p2_s1_out.html'
fhand = open(f, 'w')

fhand.write(html.encode('utf-8'))

fhand.close()
urlhand.close()
